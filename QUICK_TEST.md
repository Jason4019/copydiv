# 快速测试清单

## 5分钟快速验证

### ✅ 步骤1：加载扩展（1分钟）
1. 打开 Edge 浏览器
2. 访问 `edge://extensions/`
3. 开启"开发人员模式"（右上角）
4. 点击"加载解压缩的扩展"
5. 选择文件夹：`d:\Work\copydiv`
6. ✅ 确认扩展出现在列表中且无错误

### ✅ 步骤2：测试设置页面（2分钟）

1. **打开设置页面**
   - 右键扩展图标 → 选择"选项"
   - 或访问 `edge://extensions/` → 找到扩展 → 点击"选项"按钮

2. **测试添加功能**
   - 输入"测试词1"，点击"添加"
   - ✅ 应该看到成功提示，词出现在列表中
   - 输入"测试词2"，按 Enter 键
   - ✅ 应该成功添加

3. **测试验证**
   - 不输入内容，直接点击"添加"
   - ✅ 应该显示错误提示"请输入常用词"
   - 尝试添加已存在的词
   - ✅ 应该显示"该常用词已存在"

4. **测试编辑**
   - 点击某个词的"编辑"按钮
   - ✅ 应该弹出编辑框
   - 修改内容，点击"保存"
   - ✅ 应该更新成功

5. **测试删除**
   - 点击某个词的"删除"按钮
   - ✅ 应该弹出确认对话框
   - 确认删除
   - ✅ 应该从列表中移除

### ✅ 步骤3：测试弹出窗口（2分钟）

1. **打开弹出窗口**
   - 点击浏览器工具栏的扩展图标
   - ✅ 应该显示常用词按钮列表

2. **测试复制**
   - 点击任意一个常用词按钮
   - ✅ 应该显示"已复制：xxx"提示
   - 打开记事本，按 Ctrl+V
   - ✅ 应该粘贴出正确的内容

3. **测试自动刷新**
   - 保持 popup 窗口打开
   - 在另一个标签页打开设置页面
   - 添加一个新词
   - ✅ popup 窗口应该自动显示新词（无需手动刷新）

4. **测试空状态**
   - 删除所有常用词
   - 打开 popup 窗口
   - ✅ 应该显示"暂无常用词"和"前往设置添加"链接
   - 点击链接
   - ✅ 应该打开设置页面

## 预期结果

如果所有 ✅ 都通过，说明核心功能正常！

## 如果遇到问题

1. **打开开发者工具**（F12）
2. **查看 Console 标签页**，检查是否有红色错误
3. **常见问题**：
   - 如果复制不工作：可能是权限问题，检查是否在 HTTPS 页面
   - 如果数据不保存：检查 storage 权限是否启用
   - 如果页面空白：检查文件路径是否正确

## 测试数据清理

测试完成后，可以在设置页面手动删除所有测试词，或运行以下代码清理：

```javascript
// 在设置页面的 Console 中运行（F12 打开开发者工具）
chrome.storage.sync.set({ commonWords: [] }, () => {
  console.log('测试数据已清理');
  location.reload();
});
```

## 自动化测试脚本

⚠️ **重要**：测试脚本必须在扩展的上下文中运行，不能在普通网页运行！

### 使用方法：

1. **打开扩展的选项页面**
   - 右键扩展图标 → 选择"选项"
   - 按 `F12` 打开开发者工具
   - 切换到 Console 标签页

2. **或者打开弹出窗口的 Console**
   - 点击扩展图标打开弹出窗口
   - 右键弹出窗口 → 选择"检查"（或按 `F12`）
   - 在 Console 标签页中运行

3. **运行测试脚本**
   - 复制 `test-script.js` 文件中的代码
   - 粘贴到 Console 中并回车执行

### 测试换行功能：

1. 在设置页面的输入框中输入多行文本：
   ```
   第一行
   第二行
   第三行
   ```

2. 按 `Ctrl+Enter`（或 `Cmd+Enter` on Mac）提交，或点击"添加"按钮

3. 检查列表中是否正确显示换行

4. 打开弹出窗口，检查按钮是否也正确显示换行

5. 点击按钮复制，粘贴到记事本验证换行是否正确
